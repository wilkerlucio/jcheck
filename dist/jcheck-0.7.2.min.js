/**
 * Copyright (c) 2010 Wilker LÃºcio
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(function(a){Array.wrap=function(b){return a.isArray(b)?b:[b]},Array.prototype.extract_options=function(){return a.isPlainObject(this[this.length-1])?this.pop():{}},Array.prototype.isEqual=function(b){var c,d,e;if(!a.isArray(b))return!1;if(this.length!==b.length)return!1;for(c=0,e=this.length;c<e;c++){d=this[c];if(d!==b[c])return!1}return!0},String.prototype.simple_template_replace=function(a){var b,c,d;d=this+"";for(b in a)c=a[b],d=d.replace("%{"+b+"}",c);return d},String.prototype.uc_first=function(){return this.charAt(0).toUpperCase()+this.substr(1)},String.prototype.camelize=function(){var a,b;a=function(){var a,c,d,e;d=this.split("_"),e=[];for(a=0,c=d.length;a<c;a++)b=d[a],e.push(b.uc_first());return e}.call(this);return a.join("")},a.isString=function(a){return typeof a=="string"},window.is_blank=function(b){return b==null?!0:a.isString(b)&&b.replace(/^\s+|\s+$/,"").length===0?!0:!1},window.delete_object_property=function(a,b){var c;c=a[b]||null,delete a[b];return c},window.object_without_properties=function(b,c){var d,e,f,g;d=a.extend({},b);for(f=0,g=c.length;f<g;f++)e=c[f],delete d[e];return d},window.extract_keys=function(a){var b,c;c=[];for(b in a)c.push(b);return c},window.slice_object=function(a,b){var c,d,e,f;d={};for(e=0,f=b.length;e<f;e++)c=b[e],a[c]!=null&&(d[c]=a[c]);return d},window.slice_object_and_remove=function(b,c){var d,e,f;e={};for(d in b)f=b[d],a.inArray(d,c)===-1&&(e[d]=b[d],delete b[d]);return e};if(window.console==null)return window.console={log:function(){},dir:function(){},error:function(){}}})(jQuery);var __bind=function(a,b){return function(){return a.apply(b,arguments)}};(function($){$.FormCheck=function(){function FormCheck(a,b){this.form=a,this.options=$.extend({prevent_submit:!0,field_prefix:null,notifiers:$.FormCheck.default_notifiers,live_notifiers:$.FormCheck.default_live_notifiers,language:$.FormCheck.default_locale,auto_parse:!0,enabled:!0},b||{}),this.field_cache={},this.errors=new $.FormCheck.Errors(this),this.validations=[],this.hook_events(),this.setup_notifiers(),this.options.auto_parse&&this.parse_inline_validations()}FormCheck.prototype.parse_inline_validations=function(){return this.form.find(":input[data-validations]").each(__bind(function(a,b){var c,d,e;c=$(b),d=this.parse_field_name(c),e=this.parse_validation_string(c.attr("data-validations"));return this.validates(d,e)},this))},FormCheck.prototype.parse_validation_string=function(validation_string){var validations;validations={};try{validations=eval("({"+validation_string+"})")}catch(e){console.error("can't parse \""+validation_string+'"')}return validations},FormCheck.prototype.hook_events=function(){var a;this.form.submit(__bind(function(a){var b,c,d,e,f;if(!!this.options.enabled&&!this.is_valid()){this.options.prevent_submit&&a.preventDefault(),e=this.notifiers,f=[];for(c=0,d=e.length;c<d;c++)b=e[c],f.push(b.notify());return f}},this)),a=this;return this.form.find(":input").each(function(){var b,c;c=a.parse_field_name($(this));if(c){b=a.field(c);if(a.options.live_notifiers)return function(d){var e,f;f=c,e=b,d.focus(function(b){a.is_valid();return a.dispatch_live_notifiers("focus",f,b,e.live_notifiers)});return d.blur(function(b){a.is_valid();return a.dispatch_live_notifiers("blur",f,b,e.live_notifiers)})}($(this))}})},FormCheck.prototype.dispatch_live_notifiers=function(a,b,c,d){var e,f,g,h,i,j,k,l;e=[];for(h=0,j=d.length;h<j;h++)f=d[h],f===":parent"?e=e.concat(this.live_notifiers):e.push(this.get_notifier(f));l=[];for(i=0,k=e.length;i<k;i++)g=e[i],l.push(g[a](b,c));return l},FormCheck.prototype.setup_notifiers=function(){var a,b,c,d,e,f;e=["notifiers","live_notifiers"],f=[];for(c=0,d=e.length;c<d;c++)b=e[c],this[b]=[],f.push(function(){var c,d,e,f;if(this.options[b]){e=this.options[b],f=[];for(c=0,d=e.length;c<d;c++)a=e[c],f.push(this[b]=this.get_notifier(a));return f}}.call(this));return f},FormCheck.prototype.get_notifier=function(a){var b,c,d;d=[this],$.isArray(a)&&(d=d.concat(a.slice(1)),a=a[0]);if($.isString(a)){c=$.FormCheck.find_notifier(a),b=function(){return c.apply(this,d)},b.prototype=c.prototype;return new b}a.form=this;return a},FormCheck.prototype.validate=function(a){return this.validations.push(a)},FormCheck.prototype.field=function(a){var b,c;(c=(b=this.field_cache)[a])!=null?c:b[a]=new $.FormCheck.Field(this,this.field_name(a),a);return this.field_cache[a]},FormCheck.prototype.is_valid=function(){var a,b,c,d;this.errors.clear(),d=this.validations;for(b=0,c=d.length;b<c;b++)a=d[b],a(this);return this.errors.size()===0},FormCheck.prototype.parse_field_name=function(a){var b;b=a.attr("name");return b?this.reverse_field_name(b):null},FormCheck.prototype.reverse_field_name=function(a){var b;this.options.field_prefix&&((b=a.match(new RegExp(""+this.options.field_prefix+"\\[(.+?)\\](.*)")))?a=b[1]+(b[2]||""):a=":"+a);return a},FormCheck.prototype.field_name=function(a){var b,c;if(b=a.match(/^:(.+)/))return b[1];if(this.options.field_prefix){c="";if(b=a.match(/(.+?)(\[.+)$/))a=b[1],c=b[2];return""+this.options.field_prefix+"["+a+"]"+c}return a},FormCheck.prototype.disable=function(){return this.options.enabled=!1},FormCheck.prototype.enable=function(){return this.options.enabled=!0};return FormCheck}(),$.FormCheck.default_locale="en",$.FormCheck.default_notifiers=["notification_dialog"],$.FormCheck.default_live_notifiers=["tip_balloons"],$.FormCheck.Field=function(){function a(a,b,c){var d,e,f,g;this.form_checker=a,this.field_name=b,this.attribute=c,this.live_notifiers=[":parent"],this.element=this.form_checker.form.find(":input[name='"+b+"']"),this.custom_label=null;if(this.form_checker.options.live_notifiers){g=this.events_for_element();for(e=0,f=g.length;e<f;e++)d=g[e],this.element[d](__bind(function(a){this.form_checker.is_valid();return this.form_checker.dispatch_live_notifiers("notify",this.attribute,a,this.live_notifiers)},this))}}a.prototype.events_for_element=function(){return this.element.length===0?[]:this.element.attr("type")==="radio"||this.element.attr("type")==="checkbox"?["change"]:this.element[0].tagName.toLowerCase()==="select"?["keyup","change"]:["keyup"]},a.prototype.value=function(){return this.element.attr("type")==="radio"?this.value_for_radio():this.element.attr("type")==="checkbox"?this.value_for_checkbox():this.value_for_text()},a.prototype.value_for_text=function(){return this.element.val()||""},a.prototype.value_for_radio=function(){return this.element.filter(":checked").val()||""},a.prototype.value_for_checkbox=function(){return this.element.length>1?$.makeArray(this.element.filter(":checked").map(function(){return $(this).val()})):this.element[0].checked?this.element.val():""},a.prototype.label=function(){var a,b,c;if(this.custom_label!==null)return $.isFunction(this.custom_label)?this.custom_label.call(this):this.custom_label;a=this.element.attr("id"),this.element.length>1&&(c=a.match(/(.+)_.+$/))&&(a=c[1]),b=this.form_checker.form.find("label[for='"+a+"']");return b.length>0?b.text():this.field_name};return a}(),$.fn.jcheck=function(a){return new $.FormCheck($(this),a||{})};return $(function(){return $("form[data-jcheck=true]").jcheck()})})(jQuery);var __bind=function(a,b){return function(){return a.apply(b,arguments)}};(function(a){return a.FormCheck.Errors=function(){function b(a){this.form_checker=a,this.clear()}b.prototype.clear=function(){return this.errors={}},b.prototype.add=function(a,b,c){var d,e;c!=null?c:c={},b!=null?b:b=":invalid",(e=(d=this.errors)[a])!=null?e:d[a]=[],c.message!=null&&(b=c.message),b=this.generate_message(b,c),b=b.simple_template_replace(c);return this.errors[a].push(b)},b.prototype.attributes_with_errors=function(){var a,b,c,d;b=[],d=this.errors;for(a in d)c=d[a],c.length>0&&b.push(a);return b},b.prototype.on=function(a){var b,c;(c=(b=this.errors)[a])!=null?c:b[a]=[];return this.errors[a]},b.prototype.each=function(a){var b,c,d,e,f;e=this.errors,f=[];for(b in e)d=e[b],f.push(function(){var e,f,g;g=[];for(e=0,f=d.length;e<f;e++)c=d[e],g.push(a(b,c));return g}());return f},b.prototype.size=function(){var a,b,c,d;c=0,d=this.errors;for(a in d)b=d[a],c+=b.length;return c},b.prototype.full_messages=function(){var a;a=[],this.each(__bind(function(b,c){b=this.form_checker.field(b).label();return a.push(""+b+" "+c)},this));return a},b.prototype.generate_message=function(b){var c;return(c=b.match(/^:(.+)/))?a.FormCheck.i18n.translate("errors.messages."+c[1],this.form_checker.options.language):b};return b}()})(jQuery);var __hasProp=Object.prototype.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype;return a},__bind=function(a,b){return function(){return a.apply(b,arguments)}};(function(a){a.FormCheck.Notifiers={},a.FormCheck.Notifiers.create=function(b,c,d){var e,f;c=a.extend({constructor:function(){},focus:function(){return this.notify.apply(this,arguments)},blur:function(){},notify:function(){}},c||{}),d!=null?d:d=a.FormCheck.Notifiers.Base,e=b.camelize()+"Notifier",f=function(){function a(){a.__super__.constructor.apply(this,arguments),this.constructor.apply(this,arguments)}__extends(a,d);return a}(),a.extend(f.prototype,c),f.kind=b,a.FormCheck.Notifiers[e]=f;return f},a.FormCheck.find_notifier=function(b){var c,d,e;e=a.FormCheck.Notifiers;for(c in e){d=e[c];if(d.kind===b)return d}},a.FormCheck.Notifiers.Base=function(){function a(a){this.form=a}a.prototype.focus=function(a){},a.prototype.notify=function(a){},a.prototype.blur=function(a){};return a}(),a.FormCheck.Notifiers.DialogBase=function(){function b(){b.__super__.constructor.apply(this,arguments)}__extends(b,a.FormCheck.Notifiers.Base),b.prototype.populate_dialog=function(a,b){var c,d,e,f;c="<ul>";for(e=0,f=b.length;e<f;e++)d=b[e],c+="<li>* "+d+"</li>";c+="</ul>";return a.html(c)};return b}(),a.FormCheck.Notifiers.NotificationDialog=function(){function b(c,d){b.__super__.constructor.call(this,c),this.options=a.extend({autoclose_in:4e3},d||{})}__extends(b,a.FormCheck.Notifiers.DialogBase),b.prototype.notify=function(){var a;a=this.generate_dialog(),a.css({left:"-1000px"}),this.populate_dialog(a,this.form.errors.full_messages()),a.css({"margin-top":"-"+(a.outerHeight()+10)+"px",left:"50%","margin-left":"-"+Math.round(a.outerWidth()/2)+"px"}),a.show(),a.animate({"margin-top":"0px"});return a.mouseout()},b.prototype.close_dialog=function(){return this.current_dialog.animate({"margin-top":"-"+(this.current_dialog.outerHeight()+10)+"px"},{complete:function(){return a(this).hide()}})},b.prototype.generate_dialog=function(){var b,c;a.FormCheck.Notifiers.NotificationDialog.dialog_timer&&clearTimeout(a.FormCheck.Notifiers.NotificationDialog.dialog_timer),c="jcheck-error-dialog",a("#"+c).remove(),b=a(document.createElement("div")),b.attr("id",c),this.current_dialog=b,a.browser.msie&&parseInt(a.browser.version)<7&&b.addClass("ie-fixed"),b.click(__bind(function(){return this.close_dialog()},this)),this.options.autoclose_in&&(b.mouseover(__bind(function(){if(a.FormCheck.Notifiers.NotificationDialog.dialog_timer)return clearTimeout(a.FormCheck.Notifiers.NotificationDialog.dialog_timer)},this)),b.mouseout(__bind(function(){var b,c;c=this,b=function(){return c.close_dialog()};return a.FormCheck.Notifiers.NotificationDialog.dialog_timer=setTimeout(b,this.options.autoclose_in)},this))),a(document.body).append(b);return b};return b}(),a.FormCheck.Notifiers.NotificationDialog.dialog_timer=0,a.FormCheck.Notifiers.NotificationDialog.kind="notification_dialog",a.FormCheck.Notifiers.TipBalloons=function(){function b(a){b.__super__.constructor.call(this,a),this.balloons={}}__extends(b,a.FormCheck.Notifiers.DialogBase),b.prototype.focus=function(a,b){return this.notify(a,b||null)},b.prototype.notify=function(b,c){var d,e,f,g,h;d=this.dialog_for_attribute(b),f=this.form.errors.on(b);if(!f.isEqual(d.messages)){e=c&&c.target?a(c.target):this.form.element,g=e.offset(),h=__bind(function(a){this.populate_dialog(d,a);return d.css({top:""+(g.top-d.outerHeight())+"px",left:""+(g.left+Math.round(e.outerWidth()*.9))+"px"})},this),f.length>0?d.messages&&d.messages.length>0?h(f):(d.css({left:"-1000px",top:"-1000px"}),d.hide(),h(f),d.fadeIn("fast")):this.close_dialog(b);return d.messages=f}},b.prototype.blur=function(a){return this.close_dialog(a)},b.prototype.dialog_for_attribute=function(a){this.balloons[a]||(this.balloons[a]=this.generate_dialog());return this.balloons[a]},b.prototype.close_dialog=function(a){var b;b=this.dialog_for_attribute(a),b.messages=null;return b.fadeOut("fast")},b.prototype.generate_dialog=function(){var b,c,d;d=null,d=a(document.createElement("div")),d.addClass("jcheck-inline-balloon-tip"),d.css({position:"absolute",top:"-1000px",left:"-1000px"}),c=a(document.createElement("div")),c.addClass("content"),d.append(c),b=this.generate_arrow(),d.append(b),a(document.body).append(d);return d},b.prototype.generate_arrow=function(){var b,c,d,e,f,g;d=10,c=a(document.createElement("div")),c.addClass("arrow-container"),b=d/2,f=null;while(d>0)g=d*2-b,g<0&&(g=b+g-1),e=a(document.createElement("div")),e.addClass("line"+d),e.css({"font-size":0,width:""+g+"px",height:"1px",margin:"0 auto"}),c.append(e),d-=1;return c},b.prototype.populate_dialog=function(a,c){return b.__super__.populate_dialog.call(this,a.find(".content"),c)};return b}();return a.FormCheck.Notifiers.TipBalloons.kind="tip_balloons"})(jQuery);var __hasProp=Object.prototype.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype;return a},__slice=Array.prototype.slice;(function(a){a.FormCheck.Validations={},a.FormCheck.find_validator=function(b){var c,d,e;e=a.FormCheck.Validations;for(c in e){d=e[c];if(d.kind===b)return d}return null},a.FormCheck.Validator=function(){function a(a){this.options=a}a.prototype.kind=function(){},a.prototype.validate=function(a){};return a}(),a.FormCheck.EachValidator=function(){function b(a){this.attributes=Array.wrap(delete_object_property(a,"attributes")),a.allow_nil&&(a.allow_blank=!0),a.allow_blank&&(a.allow_nil=!0),b.__super__.constructor.call(this,a),this.check_valitity()}__extends(b,a.FormCheck.Validator),b.prototype.validate=function(a){var b,c,d,e,f,g;f=this.attributes,g=[];for(d=0,e=f.length;d<e;d++){b=f[d],c=a.field(b).value();if(is_blank(c)&&this.options.allow_blank)continue;g.push(this.validate_each(a,b,c))}return g},b.prototype.validate_each=function(a,b,c){},b.prototype.check_valitity=function(){};return b}(),a.FormCheck.prototype.validates_with=function(){var a,b,c,d,e,f,g,h;d=2<=arguments.length?__slice.call(arguments,0,e=arguments.length-1):(e=0,[]),a=arguments[e++],h=[];for(f=0,g=d.length;f<g;f++)c=d[f],b=new c(a),h.push(this.validate(function(a){return b.validate(a)}));return h},a.FormCheck.prototype.attributes_for_with=function(b){var c;c=b.extract_options();return a.extend(c,{attributes:b})},a.FormCheck.Validator.create=function(b,c,d){var e,f;c=a.extend({constructor:function(){}},c||{}),d!=null?d:d=a.FormCheck.EachValidator,e=b.camelize()+"Validator",f=function(){function a(){a.__super__.constructor.apply(this,arguments),this.constructor.apply(this,arguments)}__extends(a,d);return a}(),a.extend(f.prototype,c),f.kind=b,a.FormCheck.Validations[e]=f,a.FormCheck.prototype["validates_"+b+"_of"]=function(){var a;a=1<=arguments.length?__slice.call(arguments,0):[];return this.validates_with(f,this.attributes_for_with(a))};return f},a.FormCheck.Validations.BlockValidator=function(){function b(c){this.callback=delete_object_property(c,"callback")||a.noop,b.__super__.constructor.call(this,c)}__extends(b,a.FormCheck.EachValidator),b.prototype.validate_each=function(a,b,c){return this.callback.call(this,a,b,c)};return b}(),a.FormCheck.prototype.validates_each=function(){var b,c;b=1<=arguments.length?__slice.call(arguments,0):[],c=this.attributes_for_with(b),a.isFunction(c.attributes[c.attributes.length-1])&&(c.callback=b.pop());return this.validates_with(a.FormCheck.Validations.BlockValidator,c)},a.FormCheck.Validations.AcceptanceValidator=function(){function b(c){b.__super__.constructor.call(this,a.extend({accept:"1"},c))}__extends(b,a.FormCheck.EachValidator),b.prototype.validate_each=function(a,b,c){if(c!==this.options.accept)return a.errors.add(b,":accepted",object_without_properties(this.options,["accept","allow_nil"]))};return b}(),a.FormCheck.Validations.AcceptanceValidator.kind="acceptance",a.FormCheck.prototype.validates_acceptance_of=function(){var b;b=1<=arguments.length?__slice.call(arguments,0):[];return this.validates_with(a.FormCheck.Validations.AcceptanceValidator,this.attributes_for_with(b))},a.FormCheck.Validations.ConfirmationValidator=function(){function b(){b.__super__.constructor.apply(this,arguments)}__extends(b,a.FormCheck.EachValidator),b.prototype.validate_each=function(a,b,c){var d,e;e=b+"_confirmation",d=a.field(e).value();if(c!==d)return a.errors.add(e,":confirmation",this.options)};return b}(),a.FormCheck.Validations.ConfirmationValidator.kind="confirmation",a.FormCheck.prototype.validates_confirmation_of=function(){var b;b=1<=arguments.length?__slice.call(arguments,0):[];return this.validates_with(a.FormCheck.Validations.ConfirmationValidator,this.attributes_for_with(b))},a.FormCheck.Validations.ExclusionValidator=function(){function b(){b.__super__.constructor.apply(this,arguments)}__extends(b,a.FormCheck.EachValidator),b.prototype.validate_each=function(b,c,d){if(a.inArray(d,this.options["in"])>-1)return b.errors.add(c,":exclusion",a.extend(object_without_properties(this.options,["in"]),{value:d}))};return b}(),a.FormCheck.Validations.ExclusionValidator.kind="exclusion",a.FormCheck.prototype.validates_exclusion_of=function(){var b;b=1<=arguments.length?__slice.call(arguments,0):[];return this.validates_with(a.FormCheck.Validations.ExclusionValidator,this.attributes_for_with(b))},a.FormCheck.Validations.FormatValidator=function(){function b(c){var d,e,f,g;g=["with","without"];for(e=0,f=g.length;e<f;e++)d=g[e],c[d]!=null&&a.isString(c[d])&&(c[d]=a.FormCheck.Validations.FormatValidator.FORMATS[c[d]]);b.__super__.constructor.call(this,c)}__extends(b,a.FormCheck.EachValidator),b.prototype.validate_each=function(b,c,d){this.options["with"]&&!(d+"").match(this.options["with"])&&b.errors.add(c,":invalid",a.extend(object_without_properties(this.options,["with"]),{value:d}));if(this.options.without&&(d+"").match(this.options.without))return b.errors.add(c,":invalid",a.extend(object_without_properties(this.options,["without"]),{value:d}))};return b}(),a.FormCheck.Validations.FormatValidator.FORMATS={email:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,url:/^[A-Za-z]+:\/\/[A-Za-z0-9-_]+(\.[a-zA-Z0-9]+)+(:\d+)?[A-Za-z0-9-_%&\?\/.=]+$/},a.FormCheck.Validations.FormatValidator.kind="format",a.FormCheck.prototype.validates_format_of=function(){var b;b=1<=arguments.length?__slice.call(arguments,0):[];return this.validates_with(a.FormCheck.Validations.FormatValidator,this.attributes_for_with(b))},a.FormCheck.Validations.InclusionValidator=function(){function b(){b.__super__.constructor.apply(this,arguments)}__extends(b,a.FormCheck.EachValidator),b.prototype.validate_each=function(b,c,d){if(a.inArray(d,this.options["in"])===-1)return b.errors.add(c,":inclusion",a.extend(object_without_properties(this.options,["in"]),{value:d}))};return b}(),a.FormCheck.Validations.InclusionValidator.kind="inclusion",a.FormCheck.prototype.validates_inclusion_of=function(){var b;b=1<=arguments.length?__slice.call(arguments,0):[];return this.validates_with(a.FormCheck.Validations.InclusionValidator,this.attributes_for_with(b))},a.FormCheck.Validations.LengthValidator=function(){function b(c){b.__super__.constructor.call(this,a.extend({tokenizer:a.FormCheck.Validations.LengthValidator.DEFAULT_TOKENIZER},c))}__extends(b,a.FormCheck.EachValidator),b.prototype.validate_each=function(b,c,d){var e,f,g,h,i,j;a.isString(d)&&(d=this.options.tokenizer(d)),this.options.is&&this.options.is!==d.length&&(this.options.wrong_length!=null&&((h=(e=this.options).message)!=null?h:e.message=this.options.wrong_length),b.errors.add(c,":wrong_length",a.extend(object_without_properties(this.options,a.FormCheck.Validations.LengthValidator.RESERVED_OPTIONS),{count:this.options.is}))),this.options.minimum&&this.options.minimum>d.length&&(this.options.too_short!=null&&((i=(f=this.options).message)!=null?i:f.message=this.options.too_short),b.errors.add(c,":too_short",a.extend(object_without_properties(this.options,a.FormCheck.Validations.LengthValidator.RESERVED_OPTIONS),{count:this.options.minimum})));if(this.options.maximum&&this.options.maximum<d.length){this.options.too_long!=null&&((j=(g=this.options).message)!=null?j:g.message=this.options.too_long);return b.errors.add(c,":too_long",a.extend(object_without_properties(this.options,a.FormCheck.Validations.LengthValidator.RESERVED_OPTIONS),{count:this.options.maximum}))}};return b}(),a.FormCheck.Validations.LengthValidator.DEFAULT_TOKENIZER=function(a){return a.split("")},a.FormCheck.Validations.LengthValidator.RESERVED_OPTIONS=["minimum","maximum","is","tokenizer","too_long","too_short"],a.FormCheck.Validations.LengthValidator.kind="length",a.FormCheck.prototype.validates_length_of=function(){var b;b=1<=arguments.length?__slice.call(arguments,0):[];return this.validates_with(a.FormCheck.Validations.LengthValidator,this.attributes_for_with(b))},a.FormCheck.Validations.NumericalityValidator=function(){function b(){b.__super__.constructor.apply(this,arguments)}__extends(b,a.FormCheck.EachValidator),b.prototype.validate_each=function(b,c,d){var e,f,g,h,i;f=d,d=parseFloat(d);if(isNaN(d)||!f.match(/\d+$/))b.errors.add(c,":not_a_number",this.filtered_options(f));else{if(this.options.only_integer&&!f.match(/^[-]?\d+$/)){b.errors.add(c,":not_an_integer",this.filtered_options(f));return}d=parseInt(d),h=slice_object(this.options,extract_keys(a.FormCheck.Validations.NumericalityValidator.CHECKS)),i=[];for(e in h)g=h[e],i.push(function(){switch(e){case"odd":case"even":if(!a.FormCheck.Validations.NumericalityValidator.CHECKS[e](d))return b.errors.add(c,":"+e,this.filtered_options(g));break;default:if(!a.FormCheck.Validations.NumericalityValidator.CHECKS[e](d,g))return b.errors.add(c,":"+e,this.filtered_options(g))}}.call(this));return i}},b.prototype.filtered_options=function(b){return a.extend(object_without_properties(this.options,a.FormCheck.Validations.NumericalityValidator.RESERVED_OPTIONS),{count:b})};return b}(),a.FormCheck.Validations.NumericalityValidator.CHECKS={greater_than:function(a,b){return a>b},greater_than_or_equal_to:function(a,b){return a>=b},equal_to:function(a,b){return a===b},less_than:function(a,b){return a<b},less_than_or_equal_to:function(a,b){return a<=b},odd:function(a){return a%2===1},even:function(a){return a%2===0}},a.FormCheck.Validations.NumericalityValidator.RESERVED_OPTIONS=extract_keys(a.FormCheck.Validations.NumericalityValidator.CHECKS).concat(["only_integer"]),a.FormCheck.Validations.NumericalityValidator.kind="numericality",a.FormCheck.prototype.validates_numericality_of=function(){var b;b=1<=arguments.length?__slice.call(arguments,0):[];return this.validates_with(a.FormCheck.Validations.NumericalityValidator,this.attributes_for_with(b))},a.FormCheck.Validations.PresenceValidator=function(){function b(){b.__super__.constructor.apply(this,arguments)}__extends(b,a.FormCheck.EachValidator),b.prototype.validate_each=function(a,b,c){if(is_blank(c))return a.errors.add(b,":blank",this.options)};return b}(),a.FormCheck.Validations.PresenceValidator.kind="presence",a.FormCheck.prototype.validates_presence_of=function(){var b;b=1<=arguments.length?__slice.call(arguments,0):[];return this.validates_with(a.FormCheck.Validations.PresenceValidator,this.attributes_for_with(b))},a.FormCheck.prototype.validates=function(){var b,c,d,e,f,g,h,i;b=1<=arguments.length?__slice.call(arguments,0):[],d=b.extract_options(),g=slice_object_and_remove(d,["if","unless","allow_blank","allow_nil"]),a.extend(d,{attributes:b}),i=[];for(e in g)f=g[e],h=a.FormCheck.find_validator(e),c=a.extend({},d),i.push(h?this.validates_with(h,a.extend(c,a.FormCheck.parse_validates_options(f))):void 0);return i};return a.FormCheck.parse_validates_options=function(b){return a.isArray(b)?{"in":b}:b.test!=null?{"with":b}:b===!0?{}:a.isPlainObject?b:{}}})(jQuery),function(a){return a.FormCheck.i18n={default_language:"en",translate:function(b,c){var d;c!=null?c:c=a.FormCheck.i18n.default_language,d=b.split("."),d.unshift(c);return a.FormCheck.i18n.translation_from_path(d)},translation_from_path:function(b){var c,d,e,f;c=a.FormCheck.i18n.languages;for(e=0,f=b.length;e<f;e++){d=b[e],c=c[d];if(c==null)return""}return c},languages:{}}}(jQuery),jQuery.FormCheck.i18n.languages.en={errors:{messages:{inclusion:"%{value} is not a valid option",exclusion:"%{value} is reserved",invalid:"is invalid",confirmation:"doesn't match confirmation",accepted:"must be accepted",empty:"can't be empty",blank:"can't be blank",too_long:"is too long (maximum is %{count} characters)",too_short:"is too short (minimum is %{count} characters)",wrong_length:"is the wrong length (should be %{count} characters)",not_a_number:"is not a number",not_an_integer:"must be an integer",greater_than:"must be greater than %{count}",greater_than_or_equal_to:"must be greater than or equal to %{count}",equal_to:"must be equal to %{count}",less_than:"must be less than %{count}",less_than_or_equal_to:"must be less than or equal to %{count}",odd:"must be odd",even:"must be even"}}}